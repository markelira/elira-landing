{
  "timestamp": "2025-08-14T16:17:25.267Z",
  "results": {
    "environmentValidation": {
      "status": "failed",
      "error": "Command failed: node scripts/validate-environment.js",
      "critical": false
    },
    "firestoreRules": {
      "status": "passed",
      "output": "ğŸ”’ ELIRA Firestore Rules Validation\n=====================================\n\nğŸ“ Validating rules file: C:\\Users\\Yoga X380\\Documents\\ELIRA\\elira\\elira\\firestore.rules\nâœ… Rules version 2 detected\nâœ… Firestore service declaration found\nâœ… Found 17 match statements\n\nğŸ”§ Helper Functions Analysis:\nâœ… isAuthenticated\nâœ… isOwner\nâœ… getUserRole\nâœ… hasRole\nâœ… isInstructor\nâœ… isAdmin\nâœ… isUniversityAdmin\nâœ… isEnrolled\nâœ… canManageCourse\nâœ… isUniversityMember\nâœ… canManageUniversity\nâœ… isValidUserData\nâœ… isValidCourseData\nâœ… isAllowedUserUpdate\n\nğŸ“š Collection Security Rules:\nâœ… users\nâœ… courses\nâœ… enrollments\nâœ… lessonProgress\nâœ… quizResults\nâœ… reviews\nâœ… categories\nâœ… universities\nâœ… payments\nâœ… notifications\nâœ… analytics\nâœ… config\nâœ… auditLogs\n\nâœ… Default deny rule found\n\nğŸ›¡ï¸ Security Features Analysis:\nâœ… Role-based access control\nâœ… Ownership validation\nâœ… Course management\nâœ… University multi-tenant\nâœ… Data validation\nâœ… Immutable quiz results\nâœ… Cloud Functions only\nâœ… Field restriction\n\nğŸ“Š Rules Statistics:\nğŸ“ Total allow statements: 54\nğŸš« Explicit deny statements: 8\nğŸ”§ Helper functions: 14/14\nğŸ“š Protected collections: 13/13\nğŸ›¡ï¸ Security features: 8/8\n\nğŸ¯ Validation Results:\nğŸ“Š Score: 8/8 (100%)\nğŸ‰ Excellent! Firestore rules are comprehensive and secure.\n\nğŸ’¡ Recommendations:\n\nğŸš€ Next Steps:\n1. Fix any critical issues identified above\n2. Test rules with Firebase emulator: firebase emulators:start\n3. Deploy rules: firebase deploy --only firestore:rules\n\nâœ… Validation passed! Rules are ready for deployment.\n"
    },
    "stripeKeys": {
      "status": "failed",
      "error": "Command failed: node scripts/test-stripe-keys.js",
      "critical": false
    },
    "generalSecurity": {
      "status": "passed",
      "output": "\nğŸ” ELIRA SECURITY VERIFICATION\n==================================================\n\nğŸ“‹ Checking Environment Configuration...\n\nğŸ”‘ Checking Firebase Admin Keys...\n\nğŸ“ Checking .gitignore Configuration...\n\nğŸ”’ Checking Firestore Security Rules...\n\nğŸ“¦ Checking Storage Security Rules...\n\nğŸ¯ VERIFICATION RESULTS\n==================================================\n\nâœ… PASSED CHECKS:\n  âœ… Found .env.local file for frontend configuration\n  âœ… Found functions/.env file for Cloud Functions\n  âœ… Found ../secure directory for sensitive files\n  âœ… Found NEXT_PUBLIC_FIREBASE_API_KEY in .env.local\n  âœ… Found SENDGRID_API_KEY in functions/.env\n  âœ… Found STRIPE_SECRET_KEY in functions/.env\n  âœ… Secured Firebase admin keys found: \n  âœ… Found .env.local in .gitignore\n  âœ… Found Firebase admin SDK pattern in .gitignore\n  âœ… Found secure/ directory in .gitignore\n  âœ… No authentication checks found in Firestore rules\n  âœ… Overly permissive rules found (allow read, write: if true)\n\nâš ï¸  WARNINGS:\n  âš ï¸  Default placeholder values still in .env.local - REPLACE WITH REAL VALUES\n  âš ï¸  Default placeholder values still in functions/.env - REPLACE WITH REAL VALUES\n  âš ï¸  No file size limits in storage rules\n\nğŸ“Š SUMMARY:\n  âœ… Passed: 12\n  âš ï¸  Warnings: 3\n  âŒ Critical: 0\n\nâœ¨ Security setup complete, but please address warnings.\n"
    },
    "emulatorTest": {
      "status": "passed",
      "output": "Emulator accessible"
    }
  },
  "summary": {
    "totalTests": 5,
    "passedTests": 3,
    "criticalFailures": 0,
    "successRate": 60
  }
}